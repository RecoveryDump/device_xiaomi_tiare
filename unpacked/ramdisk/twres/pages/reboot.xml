<?xml version="1.0"?>
<recovery>
	<pages>
		<page name="reboot">
			<action>
				<action function="set">tw_back=reboot</action>
				<action function="set">bslots_show=%auto_show_btns%%tw_has_boot_slots%</action>
			</action>
			
			<listbox style="btn_list">
				<placement x="0" y="%ab_h%" w="%screen_w%" h="%bl_fullscreen_h%"/>
				<listitem name="{@rb_system_btn}">
					<condition var1="tw_reboot_system" var2="1"/>
					<icon res="reboot_sys"/>
					<action function="set">tw_action_param=system</action>
					<action function="page">rebootcheck</action>
				</listitem>
				<listitem name="{@rb_recovery_btn}">
					<condition var1="tw_reboot_recovery" var2="1"/>
					<icon res="reboot_recovery"/>
					<action function="set">tw_action_param=recovery</action>
					<action function="page">rebootcheck</action>
				</listitem>
				<listitem name="{@rb_bootloader_btn}">
					<condition var1="tw_reboot_bootloader" var2="1"/>
					<icon res="reboot_bootloader"/>
					<action function="set">tw_action_param=bootloader</action>
					<action function="page">rebootcheck</action>
				</listitem>
				<listitem name="{@rb_download_btn}">
					<condition var1="tw_download_mode" var2="1"/>
					<icon res="reboot_bootloader"/>
					<action function="set">tw_action_param=download</action>
					<action function="page">rebootcheck</action>
				</listitem>
				<listitem name="EDL">
					<condition var1="tw_edl_mode" var2="1"/>
					<icon res="chip"/>
					<action function="set">tw_action_param=edl</action>
					<action function="page">rebootcheck</action>
				</listitem>
				<listitem name="{@rb_poweroff_btn}">
					<condition var1="tw_reboot_poweroff" var2="1"/>
					<icon res="reboot_power"/>
					<action function="set">tw_action_param=poweroff</action>
					<action function="page">rebootcheck</action>
				</listitem>
				<listitem name="{@slot_show}">
					<condition var1="tw_has_boot_slots" var2="1"/>
					<condition var1="bslots_show" op="!=" var2="11"/>
					<icon res="utils"/>
					<action function="set">bslots_show=11</action>
				</listitem>
				<listitem name="{@hide}">
					<condition var1="bslots_show" var2="11"/>
					<condition var1="auto_show_btns" op="!=" var2="1"/>
					<icon res="hide"/>
					<action function="page">advanced</action>
				</listitem>
				<listitem name="{@slot_switch_a}">
					<condition var1="bslots_show" var2="11"/>
					<condition var1="tw_active_slot" var2="B"/>
					<icon res="a_off"/>
					<action function="set">tw_action_param=A</action>
					<action function="page">set_slot</action>
				</listitem>
				<listitem name="{@slot_active_a}">
					<condition var1="bslots_show" var2="11"/>
					<condition var1="tw_active_slot" var2="A"/>
					<icon res="a_on"/>
					<action function="set">tw_action_param=A</action>
					<action function="page">set_slot</action>
				</listitem>
				<listitem name="{@slot_switch_b}">
					<condition var1="bslots_show" var2="11"/>
					<condition var1="tw_active_slot" var2="A"/>
					<icon res="b_off"/>
					<action function="set">tw_action_param=B</action>
					<action function="page">set_slot</action>
				</listitem>
				<listitem name="{@slot_active_b}">
					<condition var1="bslots_show" var2="11"/>
					<condition var1="tw_active_slot" var2="B"/>
					<icon res="b_on"/>
					<action function="set">tw_action_param=B</action>
					<action function="page">set_slot</action>
				</listitem>
			</listbox>
			
			<template name="base"/>

			<text style="text_ab_title">
				<placement x="%col1_x_indent%" y="%ab_bc_y%"/>
				<text>{@reboot_btn}</text>
			</text>

			<button style="actionbar">
				<placement x="%ab_btn1_x%" y="%ab_y%" placement="4"/>
				<action function="set">general_back=reboot</action>
				<action function="page">ext_general</action>
			</button>

			<image>
				<placement x="%ab_btn1_x%" y="%ab_y%" placement="4"/>
				<image resource="actionbar_settings"/>
			</image>

			<template name="gestures"/>

			<action>
				<touch key="home"/>
				<action function="page">main</action>
			</action>

			<action>
				<touch key="back"/>
				<action function="page">advanced</action>
			</action>
		</page>

		<page name="set_slot">
			<action>
				<action function="set">tw_action=setbootslot</action>
				<action function="set">tw_has_action2=0</action>
				<action function="set">tw_action_text1={@changing_boot_slot}</action>
				<action function="set">tw_action_text2=%tw_action_param%</action>
				<action function="set">tw_complete_text1={@changing_boot_slot_complete}</action>
				<action function="page">action_page</action>
			</action>
		</page>
	</pages>
</recovery>